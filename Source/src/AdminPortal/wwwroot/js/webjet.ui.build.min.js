var Webjet=Webjet||{};Webjet.Shared={isMobileSize:function(){return $(window).width()<768},isMobileDevice:function(){return Webjet.Shared.isMobileSize()&&(typeof orientation!="undefined"||navigator.userAgent.indexOf("Mobile")!==-1)},addScriptTag:function(n,t){var i=document.createElement("script"),r;i.type="text/javascript";i.async=!0;i.id=n;i.src=t;r=document.getElementsByTagName("head")[0];r.appendChild(i)},addButtonLoader:function(n){var t=$(n);t.find(".loader").length<1&&(t.append($("<span>").addClass("loader")),t.data("alt-text")&&t.append($("<span>").addClass("loader-text").text(t.data("alt-text"))));t.addClass("btn-loading")},removeButtonLoader:function(n){$(n).removeClass("btn-loading")},getQueryParam:function(n){var t=window.location.search.match(new RegExp("[?&]"+n+"=([^&#]*)"));return t&&t[1]}},function(n){n.extend(n.fn.tooltip.Constructor.DEFAULTS,{delay:{show:200,hide:200},html:!0});n.extend(n.fn.popover.Constructor.DEFAULTS,{html:!0,content:function(){var t=n(this).next(".popover-body");return t.length>0?t.html():null}});n.widget("ui.selectmenu",n.ui.selectmenu,{_move:function(n,t){var i,r,u=".ui-menu-item";i=this.isOpen?this.menuItems.eq(this.focusIndex):this.menuItems.eq(this.element[0].selectedIndex);u+=":not(.ui-state-disabled)";r=n==="first"||n==="last"?i[n==="first"?"prevAll":"nextAll"](u).eq(-1):i[n+"All"](u).eq(0);r.length&&this.menuInstance.focus(t,r)},open:function(n){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem()),this.menuInstance.active.siblings().removeClass("selected-item"),this.menuInstance.active.addClass("selected-item")):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",n))},_select:function(n,t){this._super(n,t);this.element.trigger("change")}});n.widget("webjet.wjAutocomplete",n.ui.autocomplete,{_create:function(){this._super();this.widget().menu("option","items","> :not(.ui-state-disabled)")},_resizeMenu:function(){var n=this.menu.element;this.menu.element.outerWidth(this.element.outerWidth())},_renderMenu:function(t,i){var r=this,u=parseInt(r.options.limit)||0,f=r.options.limitMessage||"Continue typing to refine options";n.each(i,function(i,e){if(u==0||i<u)r._renderItem(t,e);else{var o=n("<li>");return o.addClass("ac-more ui-state-disabled").text(f),o.appendTo(t),!1}})},_renderItem:function(t,i){var e=this,u=e.options.type||"none",r=n("<li>").data("ui-autocomplete-item",i),f;return i.country=="NODATA"?(f=this.options.errorMessage||{flight:"No cities or airports were found. Please check your spelling.",hotel:"No destinations were found. Please check your spelling."}[u],r.addClass("ac-error").text(f),this.element.addClass("input-validation-error")):(this.element.removeClass("input-validation-error"),u==="flight"?this.renderFlightItem(r,i):u==="hotel"?this.renderHotelItem(r,i):this.renderItem(r,i)),r.appendTo(t)},renderItem:function(t,i){var r=this.renderHighlight(i.value),u=n("<span>").addClass("ac-list-top").html(r);t.append(n("<a>").append(u))},renderFlightItem:function(t,i){var r=this.renderHighlight(i.code),u=this.renderHighlight(i.airport),f=this.renderHighlight(i.city),e=this.renderHighlight(i.country),o=n("<span>").addClass("ac-list-top").html(u+" ("+r+")"),s=n("<span>").addClass("ac-list-bottom").html(f+", "+e);return t.append(n("<a>").append(o,s)),i.child&&t.addClass("ac-child"),t},renderHotelItem:function(t,i){var r=this.renderHighlight(i.type),u=this.renderHighlight(i.suburb),f=this.renderHighlight(i.city),e=this.renderHighlight(i.country),o=n("<span>").addClass("ac-list-top").html(u),s=n("<span>").addClass("ac-list-bottom").html(f+", "+e),h=n("<span>").addClass("ac-list-extra").html(r);return t.append(n("<a>").append(h,o,s)),t},renderHighlight:function(n){return n.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+this.term.trim()+")(?![^<>]*>)(?![^&;]+;)","gi"),'<span class="ac-highlight">$1<\/span>')}});n.extend(n.ui.slider.prototype,{_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-(o.values(t)+(t>0?1:-1)));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1)?!1:(this._mouseSliding=!0,this._handleIndex=u,i.addClass("ui-state-active").focus(),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0)}})}(jQuery),function(n){n.fn.wjTextField=function(){this.on("keyup",function(){n(this).siblings(".wj-alt-cross").toggle(n(this).val()!="")});this.siblings(".wj-alt-cross").on("click",function(){n(this).siblings("input.standard").val("").change();n(this).siblings("input.standard").removeClass("input-validation-error");n(this).toggle()});return this};n.fn.wjTextArea=function(){return autosize(this),this};n.fn.wjAccordion=function(){this.on("click",".title",function(t){var u=n(this).closest(".accordion"),i=n(this).closest(".accordion-item"),r;u.hasClass("accordion-list")&&(r=u.find(".toggle").not(i),r.find(".content").slideToggle(),r.removeClass("toggle"));i.find(".content").slideToggle();i.toggleClass("toggle");t.preventDefault()});return this};n.fn.wjMultilevelAccordion=function(t){var i=n.extend({multiple:!1},t);this.on("click",".title",function(t){var f=n(this).closest(".multilevel-accordion"),r=n(this).closest(".has-children"),u;i.multiple||(u=f.find(".has-children.toggle").not(r),u.find("> ul").slideToggle(),u.removeClass("toggle"));r.find("> ul").slideToggle();r.toggleClass("toggle");t.preventDefault()})};n.fn.wjImageCarousel=function(){function s(){var n=this.currentItem,r=t.data("owlCarousel"),i;r.$owlItems.removeClass(e);r.$owlItems.eq(n).addClass(e);i=r.owl.visibleItems;i.indexOf(n)<0&&(n>i[i.length-1]?t.trigger("owl.goTo",n-i.length+5):n<i[0]&&t.trigger("owl.goTo",n-4))}function h(n){var i=n.data("owlCarousel").$owlItems.eq(this.currentItem),t=i.find("iframe");t.attr("src",t.attr("src"))}var i=this,f=["<span class='wj-icon wj-previous'>","<span class='wj-icon wj-next'>"],e="current",o=i.find(".links"),r=i.find(".modal"),u=r.find(".images"),t=r.find(".thumbnails");t.owlCarousel({items:5,lazyLoad:!0,pagination:!1,responsive:!1,scrollPerPage:!0,responsiveRefreshRate:50,navigation:!0,rewindNav:!0,navigationText:f});u.owlCarousel({singleItem:!0,lazyLoad:!0,pagination:!1,slideSpeed:500,beforeMove:h,afterAction:s,responsiveRefreshRate:50,navigation:!0,rewindNav:!0,navigationText:f});t.off("click").on("click",".owl-item",function(){var t=n(this).data("owlItem");u.trigger("owl.goTo",t)});i.off("keydown").on("keydown",function(t){var r=t.keyCode===37,u=t.keyCode===39,i;(r||u)&&(i=n(this).find(".owl-carousel.images").data("owlCarousel"),i&&(r?i.prev():i.next()))});o.on("click","img, .more",function(){var t=n(this).data("item")?n(this).data("item")-1:0;u.trigger("owl.goTo",t);r.modal("show")});return this};n.fn.wjTooltip=function(){var n=this.data("tooltip-class");return this.tooltip({template:'<div class="tooltip '+n+'"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',delay:{show:200,hide:200},html:!0}),this};n.fn.wjPopover=function(){return this.popover(),this}}(jQuery);